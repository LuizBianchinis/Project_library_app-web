<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atualizar Livro</title>
    <link rel="stylesheet" href="/css/adminstyle.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <script src="https://cdn.lordicon.com/ritcuqlt.js"></script>
</head>
<body>
    <nav class="menu-lateral">
        <div class="btn-expandir">
            <i class="bi bi-list" id="btn-exp"></i>
        </div><!--btn-expandir-->
        <ul>
            <li class="item-menu">
                <a href="adicionar_livro.html">
                    <span class="icon"><i class="bi bi-house-door"></i></span>
                    <span class="txt-link">Adicionar Livros</span>
                </a>
            </li>
            <li class="item-menu ativo">
                <a href="atualizar_livro.html">
                    <span class="icon"><i class="bi bi-house-door"></i></span>
                    <span class="txt-link">Atualizar Livros</span>
                </a>
            </li>
            <li class="item-menu ativo">
                <a href="estoque.html">
                    <span class="icon"><i class="bi bi-box"></i></span>
                    <span class="txt-link">Estoque</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="conta_admin.html">
                    <span class="icon"><i class="bi bi-person-circle"></i></span>
                    <span class="txt-link">Conta</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="login.html" id="logout-link" onclick="logout(event)">
                    <span class="icon"><i class="bi bi-box-arrow-left"></i></span>
                    <span class="txt-link">Sair</span>
                </a>
            </li>
        </ul>
    </nav>

    <div class="content inicialadmin">
        <div class="form-container">
            <h2>Atualizar Livro</h2>
            <form id="atualizar_livro">
                <input type="hidden" id="book-id" name="book-id">
                <label for="book-title">Título do Livro</label>
                <input type="text" id="book-title" name="book-title">
                <label for="book-author">Autor do Livro</label>
                <input type="text" id="book-author" name="book-author">
                <label for="book-price">Preço do Livro</label>
                <input type="text" id="book-price" name="book-price">
                <button type="submit">Atualizar</button>
            </form>
        </div>
    </div>

    <script src="/js/menu.js"></script>
    <script src="/js/atualizar_exluir.js"></script>
    <script>
        // Função para obter parâmetros da URL
        function obterParametroUrl(nome) {
            nome = nome.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + nome + '=([^&#]*)');
            var resultados = regex.exec(location.search);
            return resultados === null ? '' : decodeURIComponent(resultados[1].replace(/\+/g, ' '));
        }

        // Função para preencher os campos do formulário com os dados do livro
        function preencherCamposLivro() {
            var livroId = obterParametroUrl('id');
            if (livroId !== '') {
                // Simulação de dados obtidos da API ou de outra fonte
                const livro = {
                    id: livroId,
                    titulo: "Título do Livro",
                    autor: "Autor do Livro",
                    preco: "Preço do Livro"
                };

                document.getElementById("book-id").value = livro.id;
                document.getElementById("book-title").value = livro.titulo;
                document.getElementById("book-author").value = livro.autor;
                document.getElementById("book-price").value = livro.preco;
            } else {
                console.error('ID do livro não encontrado na URL.');
            }
        }

        // Chama a função para preencher os campos do formulário com os dados do livro
        preencherCamposLivro();
    </script>
</body>
</html>
